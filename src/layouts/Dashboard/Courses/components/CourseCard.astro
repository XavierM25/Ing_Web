---
const { course } = Astro.props;

function getAgeGroupColor(ageGroup: string) {
  if (ageGroup.includes('6-11')) {
    return 'bg-[#d633f3]';
  } else if (ageGroup.includes('12-18')) {
    return 'bg-[#f3a233]';
  } else {
    return 'bg-[#ee3838]';
  }
}

function getCategoryCourse(categoryGroup: string) {
  if (categoryGroup.includes('Programación')) {
    return 'bg-[#38ee56]';
  } else if (categoryGroup.includes('Matemática')) {
    return 'bg-[#5638ee]';
  } else if (categoryGroup.includes('Arte')) {
    return 'bg-[#f9c31b]';
  } else {
    return 'bg-[#fff]';
  }
}
---

<div class="bg-white bg-opacity-5 border-[#3f3f3f] border-[1px] rounded-2xl shadow-md overflow-hidden h-[425px] flex flex-col">
  <img src={course.image} alt={course.title} class="w-full h-40 object-cover" />
  <div class="p-4 text-white flex-grow flex flex-col">
    <h2 class="text-[17px] -mb-1 text-center" style="font-family: Poppins, sans-serif; font-weight: 900;">
      {course.title}
    </h2>
    <p class="mb-3 opacity-75 text-center" style="font-family: Inter, sans-serif; font-weight: 400;">
      Profesor: {course.teacher}
    </p>
    
    <div class="flex-grow">
      <article class="text-white flex mb-4" style="font-family: Poppins, sans-serif; font-weight: 600;">
        <div class="flex-wrap space-y-1.5">
          <div class="bg-white bg-opacity-5 border-[#3f3f3f] border-[1px] items-center inline-flex px-4 py-[4px] rounded-full flex-row">
            <span class={`w-2 h-2 rounded-full mr-3 ${getAgeGroupColor(course.ageGroup)}`}></span>
            <p class="text-[12px]">{course.ageGroup}</p>
          </div>
          <div class="bg-white bg-opacity-5 border-[#3f3f3f] border-[1px] items-center inline-flex px-4 py-[4px] rounded-full flex-row">
            <span class={`w-2 h-2 rounded-full mr-2 ${getCategoryCourse(course.categoryGroup)}`}></span>
            <p class="text-[12px]">{course.categoryGroup}</p>
          </div>
        </div>
      </article>
    </div>
    
    <div class="flex flex-row justify-center items-center space-x-5 text-white mt-auto">
      <p class="text-[25px]" style="font-family: Inter, sans-serif; font-weight: 900;">
        S/.{course.price.toFixed(2)}
      </p>
      <button
        class="bg-white bg-opacity-5 border-[#007605] border-[1px] text-white text-[14px] px-4 py-2 rounded-full transition duration-300"
        style="font-family: Inter, sans-serif; font-weight: 600;"
      >
        Añadir al carrito
      </button>
    </div>
  </div>
</div>